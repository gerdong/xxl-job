
# XXL-JOB 改善

## TODO
- FAILOVER（故障转移）：按照顺序**依次进行心跳检测**，第一个心跳检测成功的机器选定为目标执行器并发起调度。 此处改为随机选定执行器作为心跳检测，避免第一个机器压力过大
- 对于分片任务的子任务。只有当分片任务全部完成后，才执行子任务。否则子任务可能被执行多次（先考虑用本地缓存实现状态保存，后期考虑用分布式实现）
- 增加**Reduce**执行器。子任务完成后，会汇总到**Reduce**任务。Reduce任务是一个空任务，它存在的目的就是执行下一层子任务。相当于父任务是多个任务组成，这多个任务完成后，才能进行下一个任务
- 修改mysql的支持。支持postgresql（去掉mysql的锁支持）
- 触发任务时，附带路由策略。让执行器知道执行的是什么路由（分片还是其它）  
- 对golang更好的支持（心跳、执行反馈等）

## UI
- 调度日志列表中，不仅显示任务ID，还需要显示任务名字
- 调度日志列表中，需要显示执行器地址。如果是分片任务，也要显示所有分片的执行情况  
- 直接显示有问题的任务
- 每个任务的CRON，下一次执行时间
- 按照执行时间，显示所有任务的执行顺序
- 能够一次显示所有任务，按照执行时间、子任务、jobid排序